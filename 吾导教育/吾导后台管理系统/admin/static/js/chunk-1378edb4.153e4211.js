(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1378edb4"],{"0f07":function(t,e,a){"use strict";var s=a("6c47"),i=a.n(s);i.a},"3e18":function(t,e,a){},"6c47":function(t,e,a){},a80d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"juisdiction"},[s("h1",[t._v("部门："+t._s(t.branch))]),s("div",{staticClass:"btn"},[s("div",{staticClass:"refresh",on:{click:t.goBack}},[t._m(0)]),s("div",{staticClass:"refresh",on:{click:t.addPower}},[t._m(1)])]),t._m(2),s("div",{staticClass:"lounge-Information"},t._l(t.list,(function(e,a){return s("div",{key:a,staticClass:"Information"},[s("div",{staticClass:"blue"}),s("p",{staticClass:"name"},[t._v(t._s(e.user_name))]),s("p",{staticClass:"time"},[t._v(t._s(e.describe))]),s("p",{staticClass:"time"},[t._v(t._s(e.creat_time))]),s("p",{staticClass:"time"},[t._v(t._s(e.update_date))]),s("p",{staticClass:"time"},[t._v(t._s(e.creator))]),s("div",{staticClass:"operation"},[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.changePower(e,a)}}},[t._v("编辑")]),s("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.deluser(e)}}},[t._v("删除")])],1)])})),0),s("div",{staticClass:"Paging"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count},on:{"current-change":t.changePage}})],1),t.showModal?s("div",{staticClass:"mask",on:{click:function(e){t.showModal=!1}}}):t._e(),t.showModal?s("div",{staticClass:"pop"},[s("div",{staticClass:"head"},[s("h1",[t._v("添加人员")]),s("img",{attrs:{src:a("b7bf"),alt:""},on:{click:function(e){t.showModal=!1}}})]),s("div",{staticClass:"transverse"}),s("div",{staticClass:"center"},[s("div",{staticClass:"center_input"},[s("p",[t._v("选择人员：")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return s("el-option",{key:t.account,attrs:{label:t.name,value:t.id}})})),1)],1),s("div",{staticClass:"textarea"},[s("p",[t._v("填写描述：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarks,expression:"remarks"}],staticClass:"bottominput",attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入人员描述"},domProps:{value:t.remarks},on:{input:function(e){e.target.composing||(t.remarks=e.target.value)}}})]),s("div",{staticClass:"power"},[s("div",{staticClass:"name"},[t._v("权限设置")]),s("div",{staticClass:"content"},[s("el-tree",{ref:"tree",attrs:{data:t.data1,"show-checkbox":"","node-key":"path","default-checked-keys":t.selectCheck,props:t.defaultProps}})],1)])]),s("div",{staticClass:"footer"},[s("div",{staticClass:"btn"},[s("div",{staticClass:"cancel",on:{click:function(e){t.showModal=!1}}},[t._v("取消")]),s("div",{staticClass:"determine",on:{click:t.addCommit}},[t._v("确定")])])])]):t._e(),t.editshowModal?s("div",{staticClass:"mask",on:{click:function(e){t.editshowModal=!1}}}):t._e(),t.editshowModal?s("div",{staticClass:"pop"},[s("div",{staticClass:"head"},[s("h1",[t._v("编辑人员")]),s("img",{attrs:{src:a("b7bf"),alt:""},on:{click:function(e){t.editshowModal=!1}}})]),s("div",{staticClass:"transverse"}),s("div",{staticClass:"center"},[s("div",{staticClass:"center_input"}),s("div",{staticClass:"textarea"},[s("p",[t._v("编辑描述：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarks1,expression:"remarks1"}],staticClass:"bottominput",attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入人员描述"},domProps:{value:t.remarks1},on:{input:function(e){e.target.composing||(t.remarks1=e.target.value)}}})]),s("div",{staticClass:"power"},[s("div",{staticClass:"name"},[t._v("权限设置")]),s("div",{staticClass:"content"},[s("el-tree",{ref:"tree1",attrs:{data:t.data1,"show-checkbox":"","node-key":"path","default-checked-keys":t.selectCheck1,props:t.defaultProps}})],1)])]),s("div",{staticClass:"footer"},[s("div",{staticClass:"btn"},[s("div",{staticClass:"cancel",on:{click:function(e){t.editshowModal=!1}}},[t._v("取消")]),s("div",{staticClass:"determine",on:{click:t.updateCommit}},[t._v("确定")])])])]):t._e(),t.delshowModal?s("div",{staticClass:"mask",on:{click:function(e){t.delshowModal=!1}}}):t._e(),t.delshowModal?s("div",{staticClass:"pop1"},[s("div",{staticClass:"head"},[s("h1",[t._v("是否删除该人员")]),s("img",{attrs:{src:a("b7bf"),alt:""},on:{click:function(e){t.delshowModal=!1}}})]),s("div",{staticClass:"transverse"}),s("div",{staticClass:"center"}),s("div",{staticClass:"footer"},[s("div",{staticClass:"btn"},[s("div",{staticClass:"cancel",on:{click:function(e){t.delshowModal=!1}}},[t._v("取消")]),s("div",{staticClass:"determine",on:{click:t.deldateCommit}},[t._v("确定")])])])]):t._e()])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"btn-text"},[t._v("返回")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("img",{attrs:{src:a("c55b"),alt:""}}),s("div",{staticClass:"btn-text"},[t._v("添加")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-Text"},[a("ul",[a("li",{staticClass:"name"},[t._v("人员名称")]),a("li",{staticClass:"time"},[t._v("人员描述")]),a("li",{staticClass:"time"},[t._v("添加时间")]),a("li",{staticClass:"time"},[t._v("修改时间")]),a("li",{staticClass:"time"},[t._v("操作人")]),a("li",{staticClass:"operation"},[t._v("操作")])])])}],n=(a("b0c0"),a("1157"),a("9d7d")),c={data:function(){return{id:"",branch:"",list:[],showModal:!1,editshowModal:!1,delshowModal:!1,count:0,page:1,limit:10,input:"",input1:"",remarks:"",remarks1:"",creator:JSON.parse(localStorage.getItem("WuDaoeducation")),options:[],value:"",data:[],data1:[],urseinfo:[],selectCheck:[],selectCheck1:[],defaultProps:{children:"children",label:this.treeLabel}}},watch:{showModal:function(t){0==t&&this.$refs.tree.setCheckedKeys([])},editshowModal:function(t){0==t&&this.$refs.tree1.setCheckedKeys([])}},created:function(){this.id=this.$route.query.id,this.branch=this.$route.query.branch,this.render(),this.get_data()},methods:{treeLabel:function(t,e){return t.meta.title},get_data:function(){var t=this,e=this,a=this.$loading({lock:!0,text:"正在加载数据",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});n["a"].getAllMenu().then((function(s){t.timer=setTimeout((function(){a.close(),e.data=s.data,e.data1=s.data}),1e3)}))},addPower:function(){var t=this;this.page=1,this.remarks="",this.value="",n["a"].getAllUser({page:"1",listrows:"10000000000000"}).then((function(e){t.options=e.data.data,t.showModal=!0}))},render:function(){var t=this;this.page=1,n["a"].getUserAdmin({page:this.page,listrows:this.limit,branch_id:this.id}).then((function(e){t.list=e.data.data,t.count=e.data.count}))},goBack:function(){this.$router.push({name:"jurisdictionbranch"})},changePage:function(t){var e=this;this.page=t,n["a"].getUserAdmin({page:this.page,listrows:this.limit,branch_id:this.id}).then((function(t){e.list=t.data.data,e.count=t.data.count}))},changePower:function(t,e){this.urseinfo=t;var a=JSON.parse(t.jurisdiction);this.selectCheck1=[];for(var s=0;s<a.length;s++)for(var i=0;i<a[s].children.length;i++)for(var n=0;n<a[s].children[i].children.length;n++)a[s].children[i].children[n].isShow&&this.selectCheck1.push(a[s].children[i].children[n].path);this.editshowModal=!0},deluser:function(t){this.urseinfo=t,this.delshowModal=!0},updateCommit:function(){var t=this,e=this,a=this.data,s=[];s=this.$refs.tree1.getCheckedNodes();for(var i=0;i<s.length;i++)for(var c=0;c<a.length;c++)for(var r=0;r<a[c].children.length;r++)for(var o=0;o<a[c].children[r].children.length;o++)s[i].path==a[c].children[r].children[o].path&&(a[c].children[r].children[o].isShow=!0);n["a"].editUserAdmin({user_id:e.urseinfo.user_id,jurisdiction:JSON.stringify(this.data),creator:this.creator.data[0].name,describe:this.remarks1}).then((function(a){200==a.data.code&&(t.get_data(),t.$message({message:"编辑成功",type:"success"}),t.selectCheck1=[],e.render(),t.editshowModal=!1)}))},addCommit:function(){var t=this,e=this,a=[];a=this.$refs.tree.getCheckedNodes();for(var s=0;s<a.length;s++)for(var i=0;i<this.data.length;i++)for(var c=0;c<this.data[i].children.length;c++)for(var r=0;r<this.data[i].children[c].children.length;r++)a[s].path==this.data[i].children[c].children[r].path&&(this.data[i].children[c].children[r].isShow=!0);n["a"].addUserAdmin({user_id:this.value,jurisdiction:JSON.stringify(this.data),creator:this.creator.data[0].name,branch_id:this.id,describe:this.remarks}).then((function(a){200==a.data.code?(t.$message({message:"添加成功",type:"success"}),e.selectCheck=[],e.render(),e.showModal=!1):400==a.data.code&&(t.$message({message:a.data.data,type:"error"}),e.selectCheck=[],e.render(),e.showModal=!1)}))},deldateCommit:function(){var t=this,e=this;n["a"].delUserAdmin({id:this.urseinfo.id,creator:this.creator.data[0].name}).then((function(a){200==a.data.code&&(t.$message({message:"删除成功",type:"success"}),e.delshowModal=!1,e.render())}))}}},r=c,o=(a("0f07"),a("d53c"),a("2877")),l=Object(o["a"])(r,s,i,!1,null,"a53bc290",null);e["default"]=l.exports},b7bf:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAACUklEQVRYR73Yv4sTQRQH8O/bXfBHqZU/ikONcIJWB1qpKDbu7DR2gpX4R9loZ2nITojdHeIVFsKh3FkIglec3Z1/QMiM7HIbJslm5+feFGk2mfnw3sybtyHO+ZZS6j2ATQC7RPSyLMu/OIOR5/kNIvpARFsAvidJ8mo0Gv2slqaiKA4A3GkcRPRLSvlkPB4f9WnjnN8CsKOUuq6t/aUsy4cNTC0D+sa1oU4N/4QQlxrYZwC1Uh994TpQ1fIfhRAvahhj7BoR7QAY9I0zoPayLHs2HA6Pa1j1cRY4F9Qc1jfOFbUA6wvng1qBxcb5olphsXAhqLWwUFwoqhPmi2OMDZIk2dYrulaGFkpC181Sl4uu4VJKYqGMEWvANjgAF2NEqlnTGDEbHIA/AM4BuNISfev0LVyJplTqz7sit2YeL5R1Kj1x3igvmHZadwFsrInUfpZlj5sL2SUrzntsKWoDIqrapbY9BaXUbwCPQppN682vHYKuOjX3h/ZzTjBDnVrJWAjOGmZA7SulLhDRzWWdL84KZlPRp9Pp+dMCezsGzgizQTWnr6pzsXCdMBeUfkPEwK2F+aBi4lphIahYuBVYDFQM3AIsJioUN4f1gQrBNS+8UdphUyfsclopxouDbffgUueq/y6+EtH9WJ2nCdmFA/BJCPG87seKopgBSJYmDGryAnAnQojLNYwx9oOI7mqT9YoyHIhtIcTTGpbn+Waapm+llPeqzZmm6ZuQztMULf055/wqgHdSygdE9G02m72eTCaH3q21y+K+3zV2F74Th/7uP+KATEWXpNQUAAAAAElFTkSuQmCC"},c55b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAArUlEQVQ4T2NkIABS1v6XYWJjOAtS9u8Xg/GcYMYn+LQwEjIwbdN/GwZGhsMgdYwMDC4zfRn3jhqIEgIjMQyTNv6XYmNlUMSVFP79Y9Bj+M8wDST/n4GhgJmZ4Qwutb9+M9xnTNv8/yUDA4MYofRIpPxLkIGvGBgYRInUQEjZK0aQl5n/M2jhUvmfiUGHiZGhHypf9v8vw3lcav8yMlwbicmGUCiPljaUF7CkVgEAz51xbmvZN0cAAAAASUVORK5CYII="},d53c:function(t,e,a){"use strict";var s=a("3e18"),i=a.n(s);i.a}}]);