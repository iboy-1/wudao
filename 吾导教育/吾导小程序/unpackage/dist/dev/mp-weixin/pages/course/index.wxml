<view class="page"><ls-skeleton class="vue-ref" vue-id="3c83f80f-1" animate="{{animate}}" skeleton="{{skeleton}}" loading="{{loading}}" data-ref="skeleton" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="add" bindtap="__e"><view class="title">课程预约：</view><view class="add_box"><cc-picker class="item" vue-id="{{('3c83f80f-2')+','+('3c83f80f-1')}}" range="{{list_country}}" value="{{person.country}}" data-event-opts="{{[['^picker_change',[['country_change']]],['^input',[['__set_model',['$0','country','$event',[]],['person']]]]]}}" bind:picker_change="__e" bind:input="__e" bind:__l="__l"></cc-picker><image src="../../static/bottom1.png"></image></view></view><view class="time_box"><block wx:for="{{timeList}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['dl',[index]]]]]}}" class="{{['item',index==tabIndex?'item1':'item']}}" bindtap="__e"><view class="date">{{tab.date}}</view><view class="date">{{tab.week}}</view></view></block><view data-event-opts="{{[['tap',[['dlCalendar',['$event']]]]]}}" class="rl" bindtap="__e"><view class="text">选择日期</view><image src="../../static/bottom.png"></image></view></view><view class="{{[isOpen?'calendar':'calendar1']}}"><ren-calendar class="vue-ref" vue-id="{{('3c83f80f-3')+','+('3c83f80f-1')}}" markDays="{{markDays}}" headerBar="{{true}}" collapsible="{{false}}" data-ref="ren" data-event-opts="{{[['^onDayClick',[['onDayClick']]]]}}" bind:onDayClick="__e" bind:__l="__l"></ren-calendar></view><block wx:if="{{isOpen}}"><view data-event-opts="{{[['touchmove',[['moveHandle',['$event']]]]]}}" class="model1" catchtouchmove="__e"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="add" bindtap="__e"><view class="title">课程预约：</view><view class="add_box"><cc-picker class="item" vue-id="{{('3c83f80f-4')+','+('3c83f80f-1')}}" range="{{list_country}}" value="{{person.country}}" data-event-opts="{{[['^picker_change',[['country_change']]],['^input',[['__set_model',['$0','country','$event',[]],['person']]]]]}}" bind:picker_change="__e" bind:input="__e" bind:__l="__l"></cc-picker><image src="../../static/bottom1.png"></image></view></view><view class="time_box"><block wx:for="{{timeList}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['dl',[index]]]]]}}" class="{{['item',index==tabIndex?'item1':'item']}}" bindtap="__e"><view class="date">{{tab.date}}</view><view class="date">{{tab.week}}</view></view></block><view data-event-opts="{{[['tap',[['dlCalendar',['$event']]]]]}}" class="rl" bindtap="__e"><view class="text">选择日期</view><image src="../../static/bottom.png"></image></view></view><view class="{{[isOpen?'calendar':'calendar1']}}" catchtouchmove="true"><ren-calendar class="vue-ref" vue-id="{{('3c83f80f-5')+','+('3c83f80f-1')}}" markDays="{{markDays}}" headerBar="{{true}}" collapsible="{{false}}" data-ref="ren" data-event-opts="{{[['^onDayClick',[['onDayClick']]]]}}" bind:onDayClick="__e" bind:__l="__l"></ren-calendar></view></view></block><view class="content"><block wx:if="{{isChoice}}"><block><block wx:for="{{courseList}}" wx:for-item="i" wx:for-index="key" wx:key="key"><block><block wx:if="{{courseList[key].course.length>0}}"><block><view class="head"><view class="left"><image src="../../static/address.png"></image><view class="venue_name">{{i.venue_name}}</view></view><view data-event-opts="{{[['tap',[['goAddress',['$0'],[[['courseList','',key]]]]]]]}}" class="right" bindtap="__e"><text>场馆位置</text><image src="../../static/left.png"></image></view></view><block wx:for="{{courseList[key].course}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="course" style="{{(index==courseList[key].course.length-1?'border-bottom:none':'')}}"><block wx:if="{{!item.isReserve}}"><view class="rt_text">已结束</view></block><block wx:if="{{!item.isReserve}}"><image class="rt" src="../../static/model.png"></image></block><image class="course_img" src="{{item.images}}" mode="aspectFill"></image><view class="info"><view class="top"><view class="name" style="{{(item.isReserve?'':'color:#CCCCCC')}}">{{item.course_name}}</view></view><view class="label"><block wx:for="{{label[key][index]}}" wx:for-item="label" wx:for-index="key1" wx:key="key1"><view class="label_item" style="{{(item.isReserve?'':'background:#CCCCCC')}}">{{label}}</view></block></view><view class="teacher" style="{{(item.isReserve?'':'color:#CCCCCC')}}">{{"老师："+item.teacher.nickname}}</view></view><view class="right"><view class="button_box"><block wx:if="{{item.isReserve}}"><block><block wx:if="{{item.mark==0}}"><view data-event-opts="{{[['tap',[['reserve',['$0'],[[['courseList.'+key+'.course','',index]]]]]]]}}" class="button" bindtap="__e">预约</view></block><block wx:else><view data-event-opts="{{[['tap',[['reserve',['$0'],[[['courseList.'+key+'.course','',index]]]]]]]}}" class="button" style="font-size:26rpx;" bindtap="__e">已预约</view></block></block></block></view><block wx:if="{{item.isReserve}}"><view class="appoint"><text style="color:#3091F2;">{{item.mark_number}}</text><text style="color:#B3B3B3;">{{"/"+item.number}}</text></view></block></view><view class="time" style="{{(item.isReserve?'':'color:#CCCCCC')}}">{{''+item.start_time+" - "+item.end_time+''}}</view></view></block></block></block></block></block></block></block><block wx:else><block><view class="no_course"><image src="../../static/no_data.png"></image><view>没有课程了～ o(︶︿︶)o</view></view></block></block></view><block wx:if="{{venue}}"><view data-event-opts="{{[['touchmove',[['moveHandle',['$event']]]],['tap',[['e2',['$event']]]]]}}" class="model" catchtouchmove="__e" bindtap="__e"></view></block><block wx:if="{{venue}}"><view class="box"><view class="title">请选择您的会员卡</view><view class="card"><block wx:for="{{cardList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['appear',['$0',index],[[['cardList','',index]]]]]]]}}" class="item" style="{{(isAppear==index?'border:2rpx solid #3091F2':'')}}" bindtap="__e"><block wx:if="{{isAppear==index}}"><image class="select" src="../../static/select.png"></image></block><view class="left"><image src="{{item.member_manage.card_image}}"></image></view><view class="right"><view class="card_name">{{item.member_manage.card_name}}</view><block wx:if="{{item.member_manage.card_value_type=='1'}}"><view class="card_type">次卡</view></block><block wx:else><view class="card_type">储值卡</view></block><block wx:if="{{item.member_manage.card_value_type=='1'}}"><view class="card_type">{{"剩余次数："+item.member_card.member_card_amount+"次"}}</view></block><block wx:else><view class="card_type">{{"余额：￥"+item.member_card.member_card_amount}}</view></block></view></view></block></view><view class="button_box"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="false" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['appear1',['$event']]]]]}}" class="true" bindtap="__e">确定</view></view></view></block><block wx:if="{{venue1}}"><view data-event-opts="{{[['touchmove',[['moveHandle',['$event']]]],['tap',[['e4',['$event']]]]]}}" class="model" catchtouchmove="__e" bindtap="__e"></view></block><block wx:if="{{venue1}}"><view class="box"><view class="title">您暂无支持该课程的会员卡，请先购买</view><view class="card"><block wx:for="{{cardList1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['appear',['$0',index],[[['cardList1','',index]]]]]]]}}" class="item" style="border:2rpx solid #3091F2;" bindtap="__e"><view class="left"><image src="{{item.card.card_image}}"></image></view><view class="right"><view class="card_name">{{item.card.card_name}}</view><block wx:if="{{item.card.card_value_type=='1'}}"><view class="card_type">次卡</view></block><block wx:else><view class="card_type">储值卡</view></block></view></view></block></view><view class="button_box"><view data-event-opts="{{[['tap',[['getCard',['$event']]]]]}}" class="button" bindtap="__e">购买会员卡</view></view></view></block></ls-skeleton><aui-loading class="vue-ref" vue-id="3c83f80f-6" show="{{true}}" type="{{3}}" mask="{{true}}" data-ref="auiLoading" bind:__l="__l"></aui-loading></view>